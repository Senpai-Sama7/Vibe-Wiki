(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{2248:(e,t,s)=>{"use strict";s.d(t,{SearchSuggestions:()=>n});var r=s(5155);function n(e){let{suggestions:t}=e;return(0,r.jsxs)("div",{className:"rounded-2xl bg-white/5 p-6",children:[(0,r.jsx)("h2",{className:"mb-3 text-lg font-semibold text-white",children:"Popular searches"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(e=>(0,r.jsx)("button",{type:"button",className:"rounded-full border border-white/20 px-3 py-1 text-xs font-semibold transition hover:border-white/40 hover:bg-white/10",onClick:()=>(e=>{let t=document.getElementById("global-search");t&&(t.value=e,t.dispatchEvent(new Event("input",{bubbles:!0})),t.focus())})(e),children:e},e))})]})}s(2115)},4741:(e,t,s)=>{Promise.resolve().then(s.bind(s,6885)),Promise.resolve().then(s.bind(s,2248))},6885:(e,t,s)=>{"use strict";s.d(t,{SearchBox:()=>g});var r=s(5155),n=s(1983),l=s(5849),c=s(2391);function o(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;if(!t)return e.substring(0,s)+(e.length>s?"...":"");let r=e.toLowerCase(),n=t.toLowerCase(),l=r.indexOf(n);if(-1===l)return e.substring(0,s)+(e.length>s?"...":"");let c=Math.max(0,l-30),o=Math.min(e.length,l+t.length+70),a=e.substring(c,o);return c>0&&(a="...".concat(a)),o<e.length&&(a="".concat(a,"...")),a}function a(e,t){if(!t||!e)return e;let s=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),r=RegExp("(".concat(s,")"),"gi");return e.replace(r,'<mark class="search-highlight">$1</mark>')}class i{buildIndex(){c.F$.concepts.forEach(e=>{this.indexConcept(e)})}indexConcept(e){var t,s,r,n,l;let o=null!=(n=null==(t=c.F$.categories[e.category])?void 0:t.title)?n:e.category;this.items.push({id:e.id,slug:e.slug,title:e.title,content:"".concat(e.title," ").concat(null!=(l=e.subtitle)?l:""," ").concat(e.tags.join(" ")).trim(),keywords:e.tags,category:e.category,type:"concept",sectionTitle:o}),Object.entries(e.explanations).forEach(t=>{let[s,r]=t;this.items.push({id:"".concat(e.id,"-explanation-").concat(s),slug:e.slug,title:"".concat(e.title," (").concat(s,")"),content:r,keywords:e.tags,category:e.category,type:"explanation",sectionTitle:o})}),null==(s=e.codeExamples)||s.forEach((t,s)=>{var r;this.items.push({id:"".concat(e.id,"-code-").concat(s),slug:e.slug,title:null!=(r=t.title)?r:"Code Example ".concat(s+1),content:t.code,keywords:e.tags,category:e.category,type:"code",sectionTitle:o})}),null==(r=e.comparison)||r.forEach((t,s)=>{var r;this.items.push({id:"".concat(e.id,"-comparison-").concat(s),slug:e.slug,title:t.name,content:"".concat(t.name," ").concat(t.pros.join(" ")," ").concat(t.cons.join(" ")," ").concat(t.useCase," ").concat(null!=(r=t.performance)?r:""),keywords:e.tags,category:e.category,type:"comparison",sectionTitle:o})})}search(e){if(!e||e.length<2)return[];let t=e.toLowerCase(),s=[];return this.items.forEach(r=>{if(r.title.toLowerCase().includes(t))return void s.push((0,l._)((0,n._)({},r),{score:1e3,matchType:"title",excerpt:o(r.content,e)}));if(r.keywords.some(e=>e.toLowerCase().includes(t)))return void s.push((0,l._)((0,n._)({},r),{score:800,matchType:"keyword",excerpt:o(r.content,e)}));let c=function(e,t){let s=e.toLowerCase(),r=t.toLowerCase(),n=0,l=0,c=0,o=[];for(;n<s.length&&l<r.length;)s[n]===r[l]&&(o.push(l),c+=s.length-n,n+=1),l+=1;return n===s.length?{score:c,matches:o}:null}(e,r.content);c&&c.score>2*e.length&&s.push((0,l._)((0,n._)({},r),{score:c.score,matchType:"content",excerpt:o(r.content,e)}))}),s.sort((e,t)=>t.score-e.score),s.slice(0,10)}getAll(){return this.items}constructor(){this.items=[],this.buildIndex()}}let u=new i;var d=s(7260),h=s(2115);function p(e){let{results:t,selectedIndex:s,query:n,onResultSelect:l}=e;return(0,r.jsxs)("div",{className:"absolute mt-2 w-full rounded-xl border border-gray-200 bg-white shadow-xl max-h-[420px] overflow-y-auto z-50",role:"listbox",children:[0===t.length&&(0,r.jsxs)("div",{className:"px-4 py-6 text-sm text-gray-600",role:"status","aria-live":"polite",children:[(0,r.jsxs)("p",{className:"font-semibold text-gray-800",children:["No matches for “",n,"”."]}),(0,r.jsx)("p",{className:"mt-1",children:"Try a different keyword or check spelling."})]}),t.map((e,t)=>{let c=t===s;return(0,r.jsxs)("button",{type:"button",role:"option","aria-selected":c,onClick:()=>l(e),className:"w-full text-left px-4 py-3 transition-colors ".concat(c?"bg-blue-50 border-l-4 border-blue-500":"hover:bg-gray-50"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,r.jsx)("div",{className:"font-semibold text-gray-900",dangerouslySetInnerHTML:{__html:a(e.title,n)}}),(0,r.jsx)("span",{className:"text-xs uppercase tracking-wide text-gray-400",children:e.sectionTitle})]}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-600",dangerouslySetInnerHTML:{__html:a(e.excerpt,n)}}),(0,r.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2 text-xs text-gray-400",children:[(0,r.jsx)("span",{className:"rounded-full bg-gray-100 px-2 py-0.5",children:e.type}),e.keywords.slice(0,3).map(e=>(0,r.jsxs)("span",{className:"rounded-full bg-gray-100 px-2 py-0.5",children:["#",e]},e))]})]},e.id)})]})}function g(e){let{placeholder:t="Search concepts, stacks, frameworks...",className:s=""}=e,[n,l]=(0,h.useState)(""),[c,o]=(0,h.useState)([]),[a,i]=(0,h.useState)(-1),[g,m]=(0,h.useState)(!1),x=(0,d.useRouter)(),f=(0,h.useRef)(null),b=(0,h.useRef)(null),y=(0,h.useRef)(null),w=(0,h.useCallback)(e=>{if(e.length<2){o([]),m(!1);return}o(u.search(e)),m(!0),i(-1)},[]);(0,h.useEffect)(()=>(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{w(n)},150),()=>{y.current&&clearTimeout(y.current)}),[w,n]);let v=(0,h.useCallback)(e=>{l(""),o([]),m(!1),i(-1),x.push("/concept/".concat(e.slug,"/"))},[x]),k=(0,h.useCallback)(e=>{if(g)switch(e.key){case"Escape":var t;m(!1),i(-1),null==(t=f.current)||t.blur();break;case"ArrowDown":if(0===c.length)break;e.preventDefault(),i(e=>e<c.length-1?e+1:e);break;case"ArrowUp":if(0===c.length)break;e.preventDefault(),i(e=>e>-1?e-1:-1);break;case"Enter":a>=0&&(e.preventDefault(),v(c[a]))}},[v,g,c,a]);(0,h.useEffect)(()=>{let e=e=>{b.current&&!b.current.contains(e.target)&&(m(!1),i(-1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let j=(0,h.useCallback)(()=>{n.length>=2&&m(!0)},[n]);return(0,r.jsxs)("div",{ref:b,className:"relative ".concat(s),children:[(0,r.jsx)("label",{htmlFor:"global-search",className:"sr-only",children:"Search concepts"}),(0,r.jsx)("input",{id:"global-search",ref:f,type:"search",value:n,onChange:e=>l(e.target.value),onKeyDown:k,onFocus:j,placeholder:t,className:"w-full rounded-xl border border-slate-200 bg-white/80 px-4 py-3 text-base shadow-sm backdrop-blur transition focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-200",autoComplete:"off"}),g&&c.length>0&&(0,r.jsx)(p,{results:c,selectedIndex:a,query:n,onResultSelect:v})]})}}},e=>{e.O(0,[391,441,255,358],()=>e(e.s=4741)),_N_E=e.O()}]);